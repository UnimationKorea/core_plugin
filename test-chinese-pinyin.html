<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ€„ Chinese Pinyin Match Plugin Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #312e81 100%);
            min-height: 100vh;
            padding: 2rem;
        }

        .test-header {
            text-align: center;
            color: white;
            margin-bottom: 2rem;
        }

        .test-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .test-controls {
            max-width: 1200px;
            margin: 0 auto 2rem;
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .scenario-selector {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1rem;
        }

        .scenario-selector label {
            font-weight: 600;
            color: #374151;
        }

        .scenario-selector select {
            flex: 1;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
        }

        .test-buttons {
            display: flex;
            gap: 1rem;
        }

        .test-btn {
            flex: 1;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .test-btn.primary {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
        }

        .test-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .test-btn.secondary {
            background: #f3f4f6;
            color: #374151;
        }

        .test-btn.secondary:hover {
            background: #e5e7eb;
        }

        #plugin-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .status-indicator {
            max-width: 1200px;
            margin: 2rem auto;
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .status-indicator h3 {
            margin-bottom: 1rem;
            color: #374151;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0.5rem 0;
        }

        .status-icon {
            font-size: 1.2rem;
        }

        .event-log {
            max-width: 1200px;
            margin: 2rem auto;
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            max-height: 300px;
            overflow-y: auto;
        }

        .event-log h3 {
            margin-bottom: 1rem;
            color: #374151;
        }

        .event-item {
            padding: 0.5rem;
            margin: 0.5rem 0;
            background: #f3f4f6;
            border-radius: 4px;
            font-size: 0.9rem;
            color: #6b7280;
        }

        .event-item.success {
            background: #d1fae5;
            color: #065f46;
        }

        .event-item.error {
            background: #fee2e2;
            color: #991b1b;
        }
    </style>
</head>
<body>
    <div class="test-header">
        <h1>ğŸ€„ Chinese Pinyin Match Plugin Test</h1>
        <p>ì¤‘êµ­ì–´ ë³‘ìŒ-í•œì ë§¤ì¹­ í”ŒëŸ¬ê·¸ì¸ í…ŒìŠ¤íŠ¸ í˜ì´ì§€</p>
    </div>

    <div class="test-controls">
        <div class="scenario-selector">
            <label for="scenario-select">í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤:</label>
            <select id="scenario-select">
                <option value="basic">ê¸°ë³¸ í…ŒìŠ¤íŠ¸ (6ê°œ ë‹¨ì–´)</option>
                <option value="simple">ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ (3ê°œ ë‹¨ì–´)</option>
                <option value="advanced">ê³ ê¸‰ í…ŒìŠ¤íŠ¸ (8ê°œ ë‹¨ì–´)</option>
                <option value="custom">ì»¤ìŠ¤í…€ (ì„¤ì • ë³€ê²½)</option>
            </select>
        </div>
        <div class="test-buttons">
            <button class="test-btn primary" id="start-btn">â–¶ï¸ í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
            <button class="test-btn secondary" id="clear-btn">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
        </div>
    </div>

    <div id="plugin-container"></div>

    <div class="status-indicator">
        <h3>ğŸ“Š í”ŒëŸ¬ê·¸ì¸ ìƒíƒœ</h3>
        <div class="status-item">
            <span class="status-icon">ğŸ”Œ</span>
            <span id="plugin-status">í”ŒëŸ¬ê·¸ì¸ ë¡œë”© ì¤‘...</span>
        </div>
        <div class="status-item">
            <span class="status-icon">ğŸ“</span>
            <span id="activity-status">í™œë™ ëŒ€ê¸° ì¤‘</span>
        </div>
    </div>

    <div class="event-log">
        <h3>ğŸ“‹ ì´ë²¤íŠ¸ ë¡œê·¸</h3>
        <div id="event-log-content"></div>
    </div>

    <script>
        // ê°„ë‹¨í•œ í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ ì‹œë®¬ë ˆì´ì…˜
        const plugins = {};
        
        window.registerEduPlugin = function(name, version, plugin) {
            const key = `${name}@${version}`;
            plugins[key] = plugin;
            console.log(`âœ… í”ŒëŸ¬ê·¸ì¸ ë“±ë¡: ${key}`);
            logEvent(`í”ŒëŸ¬ê·¸ì¸ ë“±ë¡ ì™„ë£Œ: ${key}`, 'success');
            document.getElementById('plugin-status').textContent = `í”ŒëŸ¬ê·¸ì¸ ë¡œë“œë¨: ${key}`;
        };

        // ì´ë²¤íŠ¸ ë¡œê¹…
        function logEvent(message, type = 'info') {
            const logContent = document.getElementById('event-log-content');
            const eventItem = document.createElement('div');
            eventItem.className = `event-item ${type}`;
            eventItem.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logContent.insertBefore(eventItem, logContent.firstChild);
        }

        // í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
        const scenarios = {
            basic: {
                title: 'ğŸ€„ ì¤‘êµ­ì–´ ë³‘ìŒ-í•œì ë§¤ì¹­ (ê¸°ë³¸)',
                instruction: 'í•œìë¥¼ ì˜¬ë°”ë¥¸ ë³‘ìŒìœ¼ë¡œ ë“œë˜ê·¸í•´ì„œ ì—°ê²°í•˜ì„¸ìš”!',
                pairs: [
                    { hanzi: 'í•™ìŠµ', pinyin: 'xuÃ©xÃ­', meaning: 'ê³µë¶€í•˜ë‹¤', category: 'ë™ì‚¬' },
                    { hanzi: 'æœ‹å‹', pinyin: 'pÃ©ngyÇ’u', meaning: 'ì¹œêµ¬', category: 'ëª…ì‚¬' },
                    { hanzi: 'å­¦æ ¡', pinyin: 'xuÃ©xiÃ o', meaning: 'í•™êµ', category: 'ëª…ì‚¬' },
                    { hanzi: 'è€å¸ˆ', pinyin: 'lÇoshÄ«', meaning: 'ì„ ìƒë‹˜', category: 'ëª…ì‚¬' },
                    { hanzi: 'ä¸­å›½', pinyin: 'zhÅngguÃ³', meaning: 'ì¤‘êµ­', category: 'ëª…ì‚¬' },
                    { hanzi: 'æ±‰è¯­', pinyin: 'hÃ nyÇ”', meaning: 'ì¤‘êµ­ì–´', category: 'ëª…ì‚¬' }
                ],
                showMeaning: true,
                showCategory: true,
                shuffleCards: true
            },
            simple: {
                title: 'ğŸ€„ ê°„ë‹¨í•œ ì¤‘êµ­ì–´ ë§¤ì¹­',
                instruction: '3ê°œì˜ ë‹¨ì–´ë¥¼ ì—°ê²°í•´ë³´ì„¸ìš”!',
                pairs: [
                    { hanzi: 'ä½ å¥½', pinyin: 'nÇhÇo', meaning: 'ì•ˆë…•', category: 'ì¸ì‚¬' },
                    { hanzi: 'è°¢è°¢', pinyin: 'xiÃ¨xie', meaning: 'ê°ì‚¬í•©ë‹ˆë‹¤', category: 'ì¸ì‚¬' },
                    { hanzi: 'å†è§', pinyin: 'zÃ ijiÃ n', meaning: 'ì•ˆë…•íˆ ê°€ì„¸ìš”', category: 'ì¸ì‚¬' }
                ],
                showMeaning: true,
                showCategory: true,
                shuffleCards: true
            },
            advanced: {
                title: 'ğŸ€„ ê³ ê¸‰ ì¤‘êµ­ì–´ ë§¤ì¹­',
                instruction: 'ë” ë§ì€ ë‹¨ì–´ì— ë„ì „í•˜ì„¸ìš”!',
                pairs: [
                    { hanzi: 'å­¦ä¹ ', pinyin: 'xuÃ©xÃ­', meaning: 'ê³µë¶€í•˜ë‹¤', category: 'ë™ì‚¬' },
                    { hanzi: 'æœ‹å‹', pinyin: 'pÃ©ngyÇ’u', meaning: 'ì¹œêµ¬', category: 'ëª…ì‚¬' },
                    { hanzi: 'å­¦æ ¡', pinyin: 'xuÃ©xiÃ o', meaning: 'í•™êµ', category: 'ëª…ì‚¬' },
                    { hanzi: 'è€å¸ˆ', pinyin: 'lÇoshÄ«', meaning: 'ì„ ìƒë‹˜', category: 'ëª…ì‚¬' },
                    { hanzi: 'ä¸­å›½', pinyin: 'zhÅngguÃ³', meaning: 'ì¤‘êµ­', category: 'ëª…ì‚¬' },
                    { hanzi: 'æ±‰è¯­', pinyin: 'hÃ nyÇ”', meaning: 'ì¤‘êµ­ì–´', category: 'ëª…ì‚¬' },
                    { hanzi: 'ä¹¦', pinyin: 'shÅ«', meaning: 'ì±…', category: 'ëª…ì‚¬' },
                    { hanzi: 'åƒé¥­', pinyin: 'chÄ«fÃ n', meaning: 'ì‹ì‚¬í•˜ë‹¤', category: 'ë™ì‚¬' }
                ],
                showMeaning: true,
                showCategory: true,
                shuffleCards: true
            },
            custom: {
                title: 'ğŸ€„ ì»¤ìŠ¤í…€ ì¤‘êµ­ì–´ ë§¤ì¹­',
                instruction: 'ì„¤ì •ì„ ë³€ê²½í•œ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤',
                pairs: [
                    { hanzi: 'ä½ å¥½', pinyin: 'nÇhÇo', meaning: 'ì•ˆë…•', category: 'ì¸ì‚¬' },
                    { hanzi: 'è°¢è°¢', pinyin: 'xiÃ¨xie', meaning: 'ê°ì‚¬í•©ë‹ˆë‹¤', category: 'ì¸ì‚¬' },
                    { hanzi: 'å¯¹ä¸èµ·', pinyin: 'duÃ¬buqÇ', meaning: 'ë¯¸ì•ˆí•©ë‹ˆë‹¤', category: 'ì¸ì‚¬' },
                    { hanzi: 'æ²¡å…³ç³»', pinyin: 'mÃ©iguÄnxi', meaning: 'ê´œì°®ìŠµë‹ˆë‹¤', category: 'ì¸ì‚¬' }
                ],
                showMeaning: false, // ëœ» ìˆ¨ê¹€
                showCategory: false, // í’ˆì‚¬ ìˆ¨ê¹€
                shuffleCards: false // ì„ì§€ ì•ŠìŒ
            }
        };

        // í…ŒìŠ¤íŠ¸ ì‹œì‘
        document.getElementById('start-btn').addEventListener('click', () => {
            const selectedScenario = document.getElementById('scenario-select').value;
            const scenario = scenarios[selectedScenario];
            
            logEvent(`í…ŒìŠ¤íŠ¸ ì‹œì‘: ${selectedScenario}`, 'info');
            document.getElementById('activity-status').textContent = `í™œë™ ì§„í–‰ ì¤‘: ${selectedScenario}`;
            
            const activity = {
                activityId: `test-${selectedScenario}-${Date.now()}`,
                template: 'chinese-pinyin-match@1.0.0',
                params: scenario
            };
            
            const plugin = plugins['chinese-pinyin-match@1.0.0'];
            if (plugin) {
                const container = document.getElementById('plugin-container');
                container.innerHTML = '';
                plugin.render(activity, container);
                logEvent('í”ŒëŸ¬ê·¸ì¸ ë Œë”ë§ ì™„ë£Œ', 'success');
            } else {
                logEvent('í”ŒëŸ¬ê·¸ì¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!', 'error');
            }
        });

        // ì´ˆê¸°í™”
        document.getElementById('clear-btn').addEventListener('click', () => {
            document.getElementById('plugin-container').innerHTML = '';
            document.getElementById('activity-status').textContent = 'í™œë™ ëŒ€ê¸° ì¤‘';
            logEvent('ì»¨í…Œì´ë„ˆ ì´ˆê¸°í™”', 'info');
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰
        window.addEventListener('load', () => {
            logEvent('í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ', 'success');
            setTimeout(() => {
                document.getElementById('start-btn').click();
            }, 500);
        });
    </script>

    <!-- í”ŒëŸ¬ê·¸ì¸ ë¡œë“œ -->
    <script src="plugins/chinese-pinyin-match-plugin.js"></script>
</body>
</html>
